<aura:component implements="forceCommunity:availableForAllPageTypes" controller="AuraShoppingCartController" access="global">

    <aura:attribute name="items" type="Object[]" access="private"/>
    <aura:attribute name="cartTrue" type="Boolean" access="private" default="true"/>
    <aura:attribute name="pending" type="Boolean" access="private" default="false"/>
    <aura:attribute name="checkOutUnclicked" type="Boolean" access="private" default="true"/>
    <aura:attribute name="placeOrderUnclicked" type="Boolean" access="private" default="true"/>
    <aura:handler name="init" value="{!this}" action="{!c.Initialize}"/>
    
    <aura:if isTrue="{!v.checkOutUnclicked}">
        <div>
            <button onclick="{!c.UpdateCart}">Update Cart</button>
            <button onclick="{!c.CancelChanges}">Cancel</button>
            <button onclick="{!c.CheckOut}" class="checkout-button">Check Out</button>
            <aura:iteration items="{!v.items}" var="item" indexVar="index">
                <aura:if isTrue="{!!item.remove}">
                    <c:productCard 
                        onremove="{!c.HandleRemove}" 
                        onchangequantity="{!c.HandleChangeQuantity}" 
                        accessId="{!index}"
                        isCartItem="{!v.cartTrue}"
                        itemData="{!item}">
                    </c:productCard>
                </aura:if>
            </aura:iteration>
        </div>
    </aura:if>

    <aura:if isTrue="{!!v.checkOutUnclicked}">
        <aura:if isTrue="{!v.placeOrderUnclicked}">
            <c:paymentInformation 
            accountName="NameGoesHere"
            onsubmitInfo="{!c.PlaceOrder}"
            ></c:paymentInformation>
        </aura:if>
    </aura:if>

    <aura:if isTrue="{!!v.placeOrderUnclicked}">
         <c:orderConfirmation></c:orderConfirmation>         
    </aura:if>




</aura:component>	
